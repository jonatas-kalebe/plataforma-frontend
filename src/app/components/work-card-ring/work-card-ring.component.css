:host {
  display: block;
  --card-w: 240px;
  --card-h: 140px;
  --ring-viewport: 320px; /* tamanho fixo do .ring; controlado pelo TS */
}

.ring-wrap {
  perspective: var(--perspective, 1200px);
  display: grid;
  place-items: center;
  height: 420px;
  width: 100%;
  position: relative;
  overflow: visible; /* permite que os cards ultrapassem o .ring */
}

.ring {
  position: relative;
  transform-style: preserve-3d;
  width: var(--ring-viewport);
  height: var(--ring-viewport);
  cursor: grab;
  transform-origin: 50% 50% 0;
  will-change: transform;
}

.ring:active { cursor: grabbing; }

.work-card {
  position: absolute;
  top: 50%;
  left: 50%;
  transform-style: preserve-3d;
  margin-top: calc(-1 * var(--card-h) / 2);
  margin-left: calc(-1 * var(--card-w) / 2);
  backface-visibility: visible;
  will-change: transform;
}

.work-card-inner {
  width: var(--card-w);
  height: var(--card-h);
  display: grid;
  place-items: center;
  background-color: #112240;
  border: 2px solid #64FFDA;
  color: #CCD6F6;
  border-radius: 1rem;
  font-size: 1.1rem;
  font-weight: 700;
  position: relative;
  overflow: hidden;
  box-shadow:
    0 0 10px rgba(100, 255, 218, 0.3),
    inset 0 0 10px rgba(100, 255, 218, 0.1);
  transform: rotateY(var(--inner-flip, 0deg));
  transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
  backface-visibility: hidden;
}

.work-card-inner::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(45deg, transparent, rgba(100, 255, 218, 0.12), transparent);
  transform: rotate(45deg);
  animation: lightTrail 4s linear infinite;
  opacity: 0;
  pointer-events: none;
}

@keyframes lightTrail {
  0% { transform: translateX(-100%) rotate(45deg); opacity: 0; }
  50% { opacity: 0.3; }
  100% { transform: translateX(100%) rotate(45deg); opacity: 0; }
}

.work-card-inner:hover {
  border-color: #64FFDA;
  box-shadow: 0 0 20px rgba(100, 255, 218, 0.5), inset 0 0 15px rgba(100, 255, 218, 0.2);
  transform: rotateY(var(--inner-flip, 0deg)) scale(1.02);
}

/* Responsivo */
@media (max-width: 768px) {
  .ring-wrap { height: 320px; }
  :host { --card-w: 200px; --card-h: 120px; --ring-viewport: 260px; }
  .work-card-inner { font-size: 1rem; }
}

/* Preferência do usuário */
@media (prefers-reduced-motion: reduce) {
  .work-card-inner { transition: none; }
}
